@import "variables";

body {
    font-family: $font-family-base;
    font-size: $font-size-body;
    line-height: $line-height-base;
    background: $color-bg;
    color: $color-text;
}

// FRAME THE CONTENT –––––––––––––––––––––––––––––
.container {
    max-width: 720px;
    margin-inline: auto;
    padding-inline: clamp(1rem, 4vw, 2rem);
}

// STICKY TRANSLUCENT NAV –––––––––––––––––––––––
nav {
    position: sticky;
    top: 0;
    z-index: 10;
    backdrop-filter: saturate(180%) blur(20px);
    background: rgba($color-bg, .92);
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem clamp(1rem, 4vw, 2rem);
    border-bottom: 1px solid rgba($color-border, .8);
    
    a {
        color: $color-link;
        padding: .25rem .25rem;
        text-decoration: none;
        /* TIGHT GRADIENT UNDERLINE */
        background-image: linear-gradient(120deg, $color-link 0%, $color-link 100%);
        background-repeat: no-repeat;
        background-size: 0% 2px;
        background-position: 0 100%;
        transition: background-size $t-fast ease-out;
        
        &:hover {
            background-size: 100% 2px;
        }
    }
}

.post {
    .post-header {
        margin-bottom: 2em;
    }
    
    .post-title {
        margin-bottom: 0.2em;
        color: $color-heading;
    }
    
    .post-date {
        color: $color-meta;
        font-size: 0.9em;
        margin-bottom: 2em;
    }
    
    .post-content {
        font-size: 1.1em;
        line-height: 1.7;
    }
}

h1, h2, h3 {
    color: $color-heading;
    font-family: $font-family-base;
}

h2 {
    margin-top: 1.5em;
    margin-bottom: 0.5em;
}

footer {
    margin-block: 3rem 1rem;
    padding-top: 1rem;
    border-top: 1px solid $color-border;
    font-size: 0.9em;
    color: $color-meta;
}

// Post preview styles
.post-preview {
    margin-bottom: 1.5em;
    
    h2 {
        margin: 0;
        margin-bottom: 0.2em;
        font-family: $font-family-base;
        font-weight: 700;
        font-size: 1.15em;
        
        a {
            color: $color-heading;
            text-decoration: none;
            
            &:hover {
                text-decoration: underline;
            }
        }
    }
    
    .post-date {
        color: $color-meta;
        font-size: 0.9em;
        margin-bottom: 0.2em;
    }
    
    .post-description {
        color: $color-text;
        font-size: 0.95em;
        margin-top: 0.2em;
    }
}

h1   { font-size: $font-size-1; font-weight: 600; color: $color-heading; }
h2   { font-size: $font-size-2; font-weight: 600; margin-top: 3rem; color: $color-heading; }
h3   { font-size: $font-size-3; font-weight: 600; margin-top: 2rem; color: $color-heading; }

// “BREATHE” – vertical rhythm
section, .post-header, .about-section { margin-block: 3rem; }

a {
    color: $color-link;
    text-decoration: none;  // underline handled above
}

a:hover {
    /* same animation as nav */
    background-size: 100% 2px;
}

// CORNER‑TO‑CORNER GRADIENT BORDER ON EXTERNAL LINKS
a[target="_blank"] {
    position: relative;
    border-radius: .5rem;
}
a[target="_blank"]::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(45deg, $color-link, lighten($color-link, 25%));
    -webkit-mask:
        linear-gradient(#fff 0 0) content-box,
        linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
            mask-composite: exclude;
    opacity: 0;
    transition: opacity $t-fast;
}
a[target="_blank"]:hover::before { opacity: 1; }

// DARK MODE –––––––––––––––––––––––––––––––––––––
@media (prefers-color-scheme: dark) {
    body:not(.light)   { background: $dm-color-bg; color: $dm-color-text; }
    h1, h2, h3         { color: $dm-color-heading; }
    nav                { background: rgba($dm-color-bg, .92);
                         border-bottom-color: rgba($dm-color-border, .8); }
    footer             { border-top-color: $dm-color-border; }
}
body.dark {  /* manual override via toggle */
    background: $dm-color-bg !important;
    color: $dm-color-text !important;
}
body.dark h1, body.dark h2, body.dark h3 { color: $dm-color-heading !important; }